from flask import Flask,render_template,request,send_file
import datetime


app = Flask(__name__)

def datecalc():
  x = str(datetime.datetime.now())
  l=x.split(" ")
  return l[0]

dp={3607: ['Sarthak Gautam', False, 'Date'], 1138: ['khushboo 1', False, 'Date'], 1083: ['Himanshu', False, 'Date'], 1101: ['Nikita', False, 'Date'], 1104: ['VINAYAK', False, 'Date'], 1111: ['SAKSHI', False, 'Date'], 1114: ['KRITI', False, 'Date'], 1139: ['mishika', False, 'Date'], 1145: ['MANTASHA', False, 'Date'], 3649: ['Jai', False, 'Date'], 3640: ['Praveen Sirohi', False, 'Date'], 3641: ['PRIYANSHUL', False, 'Date'], 3629: ['Aayush Sood', False, 'Date'], 1102: ['AAYUSHI', False, 'Date'], 1001: ['ABHI', False, 'Date'], 1028: ['Abhishek', False, 'Date'], 1093: ['GARIMA AGGARWAL', False, 'Date'], 1016: ['ABHIMANYU AMBAWTA', False, 'Date'], 3639: ['AMIT ASWAL', False, 'Date'], 3604: ['AKSHAY ANAND', False, 'Date'], 1131: ['Anjali', False, 'Date'], 3638: ['Atul', False, 'Date'], 1032: ['Parth BANKAL', False, 'Date'], 1137: ['ABHISHEK BHARDWAJ', False, 'Date'], 1087: ['BHAVNISH', False, 'Date'], 1119: ['SAHIL BHUKER', False, 'Date'], 1012: ['Cdt. Kritik Dhiman', False, 'Date'], 1134: ['Isha Devi', False, 'Date'], 1090: ['ANSHIKA Dhawan', False, 'Date'], 3642: ['SouRav Dhiman', False, 'Date'], 1011: ['Diksha', False, 'Date'], 1144: ['Vishal Dogra', False, 'Date'], 3623: ['Eshika', False, 'Date'], 1060: ['YASH GARG', False, 'Date'], 1009: ['RAJAT GIRI', False, 'Date'], 1103: ['GARIMA GOYAL', False, 'Date'], 1003: ['Rohit Gupta', False, 'Date'], 1081: ['Harsh', False, 'Date'], 1152: ['Harshita garg', False, 'Date'], 3652: ['Himani', False, 'Date'], 1143: ['LakshaY JhoraR', False, 'Date'], 1002: ['AKHILESH KALA', False, 'Date'], 3646: ['Karan sharma', False, 'Date'], 1047: ['MANVEER KAUR', False, 'Date'], 1116: ['RANDEEP KAUR', False, 'Date'], 1151: ['prabhjot kaur ', False, 'Date'], 3630: ['Charanjeet Kaur', False, 'Date'], 1092: ['ABHISHEK KAUSHIK', False, 'Date'], 1057: ['HIMANSHU KUMAR', False, 'Date'], 1063: ['ADARSH KUMAR', False, 'Date'], 1122: ['Omesh Kumar', False, 'Date'], 1147: ['Ankush Kumar', False, 'Date'], 3611: ['ARPIT KUMAR', False, 'Date'], 1056: ['PANKAJ KUMAR YADAV', False, 'Date'], 3632: ['ROHIT KUMAR Jindal', False, 'Date'], 1029: ['LOVELEESH SINGLA', False, 'Date'], 1021: ['JASMINE MALIK', False, 'Date'], 3626: ['Masum', False, 'Date'], 1128: ['MEETIKA', False, 'Date'], 1054: ['CDT. MOHIT KAUSHIK', False, 'Date'], 1153: ['Monika kumari', False, 'Date'], 1127: ['MONU', False, 'Date'], 1108: ['Nancy', False, 'Date'], 1058: ['Jaidev Singh Naroo', False, 'Date'], 1115: ['Navjot kaur', False, 'Date'], 1014: ['SATYARTH PARKASH', False, 'Date'], 1062: ['Anmol Pathania', False, 'Date'], 1037: ['Karan Patial', False, 'Date'], 3633: ['SHASHANK PATWAL', False, 'Date'], 1031: ['SUNISH PRASHAR', False, 'Date'], 1098: ['Rahul', False, 'Date'], 1100: ['Rahul', False, 'Date'], 3645: ['RAHUL', False, 'Date'], 3618: ['RAHUL SHARDA', False, 'Date'], 3612: ['RAHUL SURI', False, 'Date'], 1078: ['Samriti Rana', False, 'Date'], 1140: ['VARUN RANA', False, 'Date'], 3602: ['ANUJ RANA', False, 'Date'], 3651: ['Shubhankar Rana', False, 'Date'], 1038: ['MOHIT RATHI', False, 'Date'], 1019: ['SAKSHI RATURI', False, 'Date'], 1141: ['Tanuj Rawat', False, 'Date'], 1132: ['RIDHAM', False, 'Date'], 3647: ['Rishav Mittal', False, 'Date'], 1146: ['Ritika', False, 'Date'], 1112: ['Riya', False, 'Date'], 1109: ['Rohit', False, 'Date'], 1018: ['SAHIL KUMAR LOHAN', False, 'Date'], 1118: ['GARIMA SAINI', False, 'Date'], 1027: ['SANOJ', False, 'Date'], 1040: ['VISHAL SHAKYA', False, 'Date'], 1015: ['ATUL SHARMA', False, 'Date'], 1089: ['ISHIKA SHARMA', False, 'Date'], 1110: ['Paras Sharma', False, 'Date'], 1126: ['ADITYA SHARMA', False, 'Date'], 1130: ['Meenakshi SHARMA', False, 'Date'], 1099: ['Sheenam', False, 'Date'], 3628: ['Shivam', False, 'Date'], 3608: ['Shubh Rathi', False, 'Date'], 1042: ['ARSHDEEP KAUR SIDHU', False, 'Date'], 1010: ['ANSHPREET SINGH', False, 'Date'], 1025: ['SAHIBJOT SINGH', False, 'Date'], 1041: ['PRATEEK SINGH', False, 'Date'], 1066: ['VIVEK SINGH', False, 'Date'], 1071: ['UDIT SINGH', False, 'Date'], 1075: ['Saurabh singh Singh', False, 'Date'], 3634: ['PUSHPINDER SINGH', False, 'Date'], 3635: ['LOVEPREET SINGH', False, 'Date'], 3643: ['HARKIRAT SINGH', False, 'Date'], 1055: ['CDT.DEVANSH SINGLA', False, 'Date'], 1106: ['SUHAN SAINI', False, 'Date'], 1046: ['SUMIT', False, 'Date'], 1069: ['Sunidhi', False, 'Date'], 1094: ['Sushil', False, 'Date'], 1121: ['Tarang', False, 'Date'], 1061: ['NITIN THAKUR', False, 'Date'], 1129: ['AKASH THAKUR', False, 'Date'], 3610: ['ANSHIKA THAKUR', False, 'Date'], 1034: ['VIDHI TIWARI', False, 'Date'], 1026: ['Tushar Kumar', False, 'Date'], 1077: ['Karan Veer', False, 'Date'], 1125: ['Shelly Verma', False, 'Date'], 3620: ['Suraj Verma', False, 'Date'], 3625: ['DIPANSHU VERMA', False, 'Date'], 1107: ['VIKALP', False, 'Date'], 1053: ['VIVEK YADA', False, 'Date']}
dm={3607: ['Sarthak Gautam', False, 'Date'], 1138: ['khushboo 1', False, 'Date'], 1083: ['Himanshu', False, 'Date'], 1101: ['Nikita', False, 'Date'], 1104: ['VINAYAK', False, 'Date'], 1111: ['SAKSHI', False, 'Date'], 1114: ['KRITI', False, 'Date'], 1139: ['mishika', False, 'Date'], 1145: ['MANTASHA', False, 'Date'], 3649: ['Jai', False, 'Date'], 3640: ['Praveen Sirohi', False, 'Date'], 3641: ['PRIYANSHUL', False, 'Date'], 3629: ['Aayush Sood', False, 'Date'], 1102: ['AAYUSHI', False, 'Date'], 1001: ['ABHI', False, 'Date'], 1028: ['Abhishek', False, 'Date'], 1093: ['GARIMA AGGARWAL', False, 'Date'], 1016: ['ABHIMANYU AMBAWTA', False, 'Date'], 3639: ['AMIT ASWAL', False, 'Date'], 3604: ['AKSHAY ANAND', False, 'Date'], 1131: ['Anjali', False, 'Date'], 3638: ['Atul', False, 'Date'], 1032: ['Parth BANKAL', False, 'Date'], 1137: ['ABHISHEK BHARDWAJ', False, 'Date'], 1087: ['BHAVNISH', False, 'Date'], 1119: ['SAHIL BHUKER', False, 'Date'], 1012: ['Cdt. Kritik Dhiman', False, 'Date'], 1134: ['Isha Devi', False, 'Date'], 1090: ['ANSHIKA Dhawan', False, 'Date'], 3642: ['SouRav Dhiman', False, 'Date'], 1011: ['Diksha', False, 'Date'], 1144: ['Vishal Dogra', False, 'Date'], 3623: ['Eshika', False, 'Date'], 1060: ['YASH GARG', False, 'Date'], 1009: ['RAJAT GIRI', False, 'Date'], 1103: ['GARIMA GOYAL', False, 'Date'], 1003: ['Rohit Gupta', False, 'Date'], 1081: ['Harsh', False, 'Date'], 1152: ['Harshita garg', False, 'Date'], 3652: ['Himani', False, 'Date'], 1143: ['LakshaY JhoraR', False, 'Date'], 1002: ['AKHILESH KALA', False, 'Date'], 3646: ['Karan sharma', False, 'Date'], 1047: ['MANVEER KAUR', False, 'Date'], 1116: ['RANDEEP KAUR', False, 'Date'], 1151: ['prabhjot kaur ', False, 'Date'], 3630: ['Charanjeet Kaur', False, 'Date'], 1092: ['ABHISHEK KAUSHIK', False, 'Date'], 1057: ['HIMANSHU KUMAR', False, 'Date'], 1063: ['ADARSH KUMAR', False, 'Date'], 1122: ['Omesh Kumar', False, 'Date'], 1147: ['Ankush Kumar', False, 'Date'], 3611: ['ARPIT KUMAR', False, 'Date'], 1056: ['PANKAJ KUMAR YADAV', False, 'Date'], 3632: ['ROHIT KUMAR Jindal', False, 'Date'], 1029: ['LOVELEESH SINGLA', False, 'Date'], 1021: ['JASMINE MALIK', False, 'Date'], 3626: ['Masum', False, 'Date'], 1128: ['MEETIKA', False, 'Date'], 1054: ['CDT. MOHIT KAUSHIK', False, 'Date'], 1153: ['Monika kumari', False, 'Date'], 1127: ['MONU', False, 'Date'], 1108: ['Nancy', False, 'Date'], 1058: ['Jaidev Singh Naroo', False, 'Date'], 1115: ['Navjot kaur', False, 'Date'], 1014: ['SATYARTH PARKASH', False, 'Date'], 1062: ['Anmol Pathania', False, 'Date'], 1037: ['Karan Patial', False, 'Date'], 3633: ['SHASHANK PATWAL', False, 'Date'], 1031: ['SUNISH PRASHAR', False, 'Date'], 1098: ['Rahul', False, 'Date'], 1100: ['Rahul', False, 'Date'], 3645: ['RAHUL', False, 'Date'], 3618: ['RAHUL SHARDA', False, 'Date'], 3612: ['RAHUL SURI', False, 'Date'], 1078: ['Samriti Rana', False, 'Date'], 1140: ['VARUN RANA', False, 'Date'], 3602: ['ANUJ RANA', False, 'Date'], 3651: ['Shubhankar Rana', False, 'Date'], 1038: ['MOHIT RATHI', False, 'Date'], 1019: ['SAKSHI RATURI', False, 'Date'], 1141: ['Tanuj Rawat', False, 'Date'], 1132: ['RIDHAM', False, 'Date'], 3647: ['Rishav Mittal', False, 'Date'], 1146: ['Ritika', False, 'Date'], 1112: ['Riya', False, 'Date'], 1109: ['Rohit', False, 'Date'], 1018: ['SAHIL KUMAR LOHAN', False, 'Date'], 1118: ['GARIMA SAINI', False, 'Date'], 1027: ['SANOJ', False, 'Date'], 1040: ['VISHAL SHAKYA', False, 'Date'], 1015: ['ATUL SHARMA', False, 'Date'], 1089: ['ISHIKA SHARMA', False, 'Date'], 1110: ['Paras Sharma', False, 'Date'], 1126: ['ADITYA SHARMA', False, 'Date'], 1130: ['Meenakshi SHARMA', False, 'Date'], 1099: ['Sheenam', False, 'Date'], 3628: ['Shivam', False, 'Date'], 3608: ['Shubh Rathi', False, 'Date'], 1042: ['ARSHDEEP KAUR SIDHU', False, 'Date'], 1010: ['ANSHPREET SINGH', False, 'Date'], 1025: ['SAHIBJOT SINGH', False, 'Date'], 1041: ['PRATEEK SINGH', False, 'Date'], 1066: ['VIVEK SINGH', False, 'Date'], 1071: ['UDIT SINGH', False, 'Date'], 1075: ['Saurabh singh Singh', False, 'Date'], 3634: ['PUSHPINDER SINGH', False, 'Date'], 3635: ['LOVEPREET SINGH', False, 'Date'], 3643: ['HARKIRAT SINGH', False, 'Date'], 1055: ['CDT.DEVANSH SINGLA', False, 'Date'], 1106: ['SUHAN SAINI', False, 'Date'], 1046: ['SUMIT', False, 'Date'], 1069: ['Sunidhi', False, 'Date'], 1094: ['Sushil', False, 'Date'], 1121: ['Tarang', False, 'Date'], 1061: ['NITIN THAKUR', False, 'Date'], 1129: ['AKASH THAKUR', False, 'Date'], 3610: ['ANSHIKA THAKUR', False, 'Date'], 1034: ['VIDHI TIWARI', False, 'Date'], 1026: ['Tushar Kumar', False, 'Date'], 1077: ['Karan Veer', False, 'Date'], 1125: ['Shelly Verma', False, 'Date'], 3620: ['Suraj Verma', False, 'Date'], 3625: ['DIPANSHU VERMA', False, 'Date'], 1107: ['VIKALP', False, 'Date'], 1053: ['VIVEK YADA', False, 'Date']}
dc={3607: ['Sarthak Gautam', False, 'Date'], 1138: ['khushboo 1', False, 'Date'], 1083: ['Himanshu', False, 'Date'], 1101: ['Nikita', False, 'Date'], 1104: ['VINAYAK', False, 'Date'], 1111: ['SAKSHI', False, 'Date'], 1114: ['KRITI', False, 'Date'], 1139: ['mishika', False, 'Date'], 1145: ['MANTASHA', False, 'Date'], 3649: ['Jai', False, 'Date'], 3640: ['Praveen Sirohi', False, 'Date'], 3641: ['PRIYANSHUL', False, 'Date'], 3629: ['Aayush Sood', False, 'Date'], 1102: ['AAYUSHI', False, 'Date'], 1001: ['ABHI', False, 'Date'], 1028: ['Abhishek', False, 'Date'], 1093: ['GARIMA AGGARWAL', False, 'Date'], 1016: ['ABHIMANYU AMBAWTA', False, 'Date'], 3639: ['AMIT ASWAL', False, 'Date'], 3604: ['AKSHAY ANAND', False, 'Date'], 1131: ['Anjali', False, 'Date'], 3638: ['Atul', False, 'Date'], 1032: ['Parth BANKAL', False, 'Date'], 1137: ['ABHISHEK BHARDWAJ', False, 'Date'], 1087: ['BHAVNISH', False, 'Date'], 1119: ['SAHIL BHUKER', False, 'Date'], 1012: ['Cdt. Kritik Dhiman', False, 'Date'], 1134: ['Isha Devi', False, 'Date'], 1090: ['ANSHIKA Dhawan', False, 'Date'], 3642: ['SouRav Dhiman', False, 'Date'], 1011: ['Diksha', False, 'Date'], 1144: ['Vishal Dogra', False, 'Date'], 3623: ['Eshika', False, 'Date'], 1060: ['YASH GARG', False, 'Date'], 1009: ['RAJAT GIRI', False, 'Date'], 1103: ['GARIMA GOYAL', False, 'Date'], 1003: ['Rohit Gupta', False, 'Date'], 1081: ['Harsh', False, 'Date'], 1152: ['Harshita garg', False, 'Date'], 3652: ['Himani', False, 'Date'], 1143: ['LakshaY JhoraR', False, 'Date'], 1002: ['AKHILESH KALA', False, 'Date'], 3646: ['Karan sharma', False, 'Date'], 1047: ['MANVEER KAUR', False, 'Date'], 1116: ['RANDEEP KAUR', False, 'Date'], 1151: ['prabhjot kaur ', False, 'Date'], 3630: ['Charanjeet Kaur', False, 'Date'], 1092: ['ABHISHEK KAUSHIK', False, 'Date'], 1057: ['HIMANSHU KUMAR', False, 'Date'], 1063: ['ADARSH KUMAR', False, 'Date'], 1122: ['Omesh Kumar', False, 'Date'], 1147: ['Ankush Kumar', False, 'Date'], 3611: ['ARPIT KUMAR', False, 'Date'], 1056: ['PANKAJ KUMAR YADAV', False, 'Date'], 3632: ['ROHIT KUMAR Jindal', False, 'Date'], 1029: ['LOVELEESH SINGLA', False, 'Date'], 1021: ['JASMINE MALIK', False, 'Date'], 3626: ['Masum', False, 'Date'], 1128: ['MEETIKA', False, 'Date'], 1054: ['CDT. MOHIT KAUSHIK', False, 'Date'], 1153: ['Monika kumari', False, 'Date'], 1127: ['MONU', False, 'Date'], 1108: ['Nancy', False, 'Date'], 1058: ['Jaidev Singh Naroo', False, 'Date'], 1115: ['Navjot kaur', False, 'Date'], 1014: ['SATYARTH PARKASH', False, 'Date'], 1062: ['Anmol Pathania', False, 'Date'], 1037: ['Karan Patial', False, 'Date'], 3633: ['SHASHANK PATWAL', False, 'Date'], 1031: ['SUNISH PRASHAR', False, 'Date'], 1098: ['Rahul', False, 'Date'], 1100: ['Rahul', False, 'Date'], 3645: ['RAHUL', False, 'Date'], 3618: ['RAHUL SHARDA', False, 'Date'], 3612: ['RAHUL SURI', False, 'Date'], 1078: ['Samriti Rana', False, 'Date'], 1140: ['VARUN RANA', False, 'Date'], 3602: ['ANUJ RANA', False, 'Date'], 3651: ['Shubhankar Rana', False, 'Date'], 1038: ['MOHIT RATHI', False, 'Date'], 1019: ['SAKSHI RATURI', False, 'Date'], 1141: ['Tanuj Rawat', False, 'Date'], 1132: ['RIDHAM', False, 'Date'], 3647: ['Rishav Mittal', False, 'Date'], 1146: ['Ritika', False, 'Date'], 1112: ['Riya', False, 'Date'], 1109: ['Rohit', False, 'Date'], 1018: ['SAHIL KUMAR LOHAN', False, 'Date'], 1118: ['GARIMA SAINI', False, 'Date'], 1027: ['SANOJ', False, 'Date'], 1040: ['VISHAL SHAKYA', False, 'Date'], 1015: ['ATUL SHARMA', False, 'Date'], 1089: ['ISHIKA SHARMA', False, 'Date'], 1110: ['Paras Sharma', False, 'Date'], 1126: ['ADITYA SHARMA', False, 'Date'], 1130: ['Meenakshi SHARMA', False, 'Date'], 1099: ['Sheenam', False, 'Date'], 3628: ['Shivam', False, 'Date'], 3608: ['Shubh Rathi', False, 'Date'], 1042: ['ARSHDEEP KAUR SIDHU', False, 'Date'], 1010: ['ANSHPREET SINGH', False, 'Date'], 1025: ['SAHIBJOT SINGH', False, 'Date'], 1041: ['PRATEEK SINGH', False, 'Date'], 1066: ['VIVEK SINGH', False, 'Date'], 1071: ['UDIT SINGH', False, 'Date'], 1075: ['Saurabh singh Singh', False, 'Date'], 3634: ['PUSHPINDER SINGH', False, 'Date'], 3635: ['LOVEPREET SINGH', False, 'Date'], 3643: ['HARKIRAT SINGH', False, 'Date'], 1055: ['CDT.DEVANSH SINGLA', False, 'Date'], 1106: ['SUHAN SAINI', False, 'Date'], 1046: ['SUMIT', False, 'Date'], 1069: ['Sunidhi', False, 'Date'], 1094: ['Sushil', False, 'Date'], 1121: ['Tarang', False, 'Date'], 1061: ['NITIN THAKUR', False, 'Date'], 1129: ['AKASH THAKUR', False, 'Date'], 3610: ['ANSHIKA THAKUR', False, 'Date'], 1034: ['VIDHI TIWARI', False, 'Date'], 1026: ['Tushar Kumar', False, 'Date'], 1077: ['Karan Veer', False, 'Date'], 1125: ['Shelly Verma', False, 'Date'], 3620: ['Suraj Verma', False, 'Date'], 3625: ['DIPANSHU VERMA', False, 'Date'], 1107: ['VIKALP', False, 'Date'], 1053: ['VIVEK YADA', False, 'Date']}
de={3607: ['Sarthak Gautam', False, 'Date'], 1138: ['khushboo 1', False, 'Date'], 1083: ['Himanshu', False, 'Date'], 1101: ['Nikita', False, 'Date'], 1104: ['VINAYAK', False, 'Date'], 1111: ['SAKSHI', False, 'Date'], 1114: ['KRITI', False, 'Date'], 1139: ['mishika', False, 'Date'], 1145: ['MANTASHA', False, 'Date'], 3649: ['Jai', False, 'Date'], 3640: ['Praveen Sirohi', False, 'Date'], 3641: ['PRIYANSHUL', False, 'Date'], 3629: ['Aayush Sood', False, 'Date'], 1102: ['AAYUSHI', False, 'Date'], 1001: ['ABHI', False, 'Date'], 1028: ['Abhishek', False, 'Date'], 1093: ['GARIMA AGGARWAL', False, 'Date'], 1016: ['ABHIMANYU AMBAWTA', False, 'Date'], 3639: ['AMIT ASWAL', False, 'Date'], 3604: ['AKSHAY ANAND', False, 'Date'], 1131: ['Anjali', False, 'Date'], 3638: ['Atul', False, 'Date'], 1032: ['Parth BANKAL', False, 'Date'], 1137: ['ABHISHEK BHARDWAJ', False, 'Date'], 1087: ['BHAVNISH', False, 'Date'], 1119: ['SAHIL BHUKER', False, 'Date'], 1012: ['Cdt. Kritik Dhiman', False, 'Date'], 1134: ['Isha Devi', False, 'Date'], 1090: ['ANSHIKA Dhawan', False, 'Date'], 3642: ['SouRav Dhiman', False, 'Date'], 1011: ['Diksha', False, 'Date'], 1144: ['Vishal Dogra', False, 'Date'], 3623: ['Eshika', False, 'Date'], 1060: ['YASH GARG', False, 'Date'], 1009: ['RAJAT GIRI', False, 'Date'], 1103: ['GARIMA GOYAL', False, 'Date'], 1003: ['Rohit Gupta', False, 'Date'], 1081: ['Harsh', False, 'Date'], 1152: ['Harshita garg', False, 'Date'], 3652: ['Himani', False, 'Date'], 1143: ['LakshaY JhoraR', False, 'Date'], 1002: ['AKHILESH KALA', False, 'Date'], 3646: ['Karan sharma', False, 'Date'], 1047: ['MANVEER KAUR', False, 'Date'], 1116: ['RANDEEP KAUR', False, 'Date'], 1151: ['prabhjot kaur ', False, 'Date'], 3630: ['Charanjeet Kaur', False, 'Date'], 1092: ['ABHISHEK KAUSHIK', False, 'Date'], 1057: ['HIMANSHU KUMAR', False, 'Date'], 1063: ['ADARSH KUMAR', False, 'Date'], 1122: ['Omesh Kumar', False, 'Date'], 1147: ['Ankush Kumar', False, 'Date'], 3611: ['ARPIT KUMAR', False, 'Date'], 1056: ['PANKAJ KUMAR YADAV', False, 'Date'], 3632: ['ROHIT KUMAR Jindal', False, 'Date'], 1029: ['LOVELEESH SINGLA', False, 'Date'], 1021: ['JASMINE MALIK', False, 'Date'], 3626: ['Masum', False, 'Date'], 1128: ['MEETIKA', False, 'Date'], 1054: ['CDT. MOHIT KAUSHIK', False, 'Date'], 1153: ['Monika kumari', False, 'Date'], 1127: ['MONU', False, 'Date'], 1108: ['Nancy', False, 'Date'], 1058: ['Jaidev Singh Naroo', False, 'Date'], 1115: ['Navjot kaur', False, 'Date'], 1014: ['SATYARTH PARKASH', False, 'Date'], 1062: ['Anmol Pathania', False, 'Date'], 1037: ['Karan Patial', False, 'Date'], 3633: ['SHASHANK PATWAL', False, 'Date'], 1031: ['SUNISH PRASHAR', False, 'Date'], 1098: ['Rahul', False, 'Date'], 1100: ['Rahul', False, 'Date'], 3645: ['RAHUL', False, 'Date'], 3618: ['RAHUL SHARDA', False, 'Date'], 3612: ['RAHUL SURI', False, 'Date'], 1078: ['Samriti Rana', False, 'Date'], 1140: ['VARUN RANA', False, 'Date'], 3602: ['ANUJ RANA', False, 'Date'], 3651: ['Shubhankar Rana', False, 'Date'], 1038: ['MOHIT RATHI', False, 'Date'], 1019: ['SAKSHI RATURI', False, 'Date'], 1141: ['Tanuj Rawat', False, 'Date'], 1132: ['RIDHAM', False, 'Date'], 3647: ['Rishav Mittal', False, 'Date'], 1146: ['Ritika', False, 'Date'], 1112: ['Riya', False, 'Date'], 1109: ['Rohit', False, 'Date'], 1018: ['SAHIL KUMAR LOHAN', False, 'Date'], 1118: ['GARIMA SAINI', False, 'Date'], 1027: ['SANOJ', False, 'Date'], 1040: ['VISHAL SHAKYA', False, 'Date'], 1015: ['ATUL SHARMA', False, 'Date'], 1089: ['ISHIKA SHARMA', False, 'Date'], 1110: ['Paras Sharma', False, 'Date'], 1126: ['ADITYA SHARMA', False, 'Date'], 1130: ['Meenakshi SHARMA', False, 'Date'], 1099: ['Sheenam', False, 'Date'], 3628: ['Shivam', False, 'Date'], 3608: ['Shubh Rathi', False, 'Date'], 1042: ['ARSHDEEP KAUR SIDHU', False, 'Date'], 1010: ['ANSHPREET SINGH', False, 'Date'], 1025: ['SAHIBJOT SINGH', False, 'Date'], 1041: ['PRATEEK SINGH', False, 'Date'], 1066: ['VIVEK SINGH', False, 'Date'], 1071: ['UDIT SINGH', False, 'Date'], 1075: ['Saurabh singh Singh', False, 'Date'], 3634: ['PUSHPINDER SINGH', False, 'Date'], 3635: ['LOVEPREET SINGH', False, 'Date'], 3643: ['HARKIRAT SINGH', False, 'Date'], 1055: ['CDT.DEVANSH SINGLA', False, 'Date'], 1106: ['SUHAN SAINI', False, 'Date'], 1046: ['SUMIT', False, 'Date'], 1069: ['Sunidhi', False, 'Date'], 1094: ['Sushil', False, 'Date'], 1121: ['Tarang', False, 'Date'], 1061: ['NITIN THAKUR', False, 'Date'], 1129: ['AKASH THAKUR', False, 'Date'], 3610: ['ANSHIKA THAKUR', False, 'Date'], 1034: ['VIDHI TIWARI', False, 'Date'], 1026: ['Tushar Kumar', False, 'Date'], 1077: ['Karan Veer', False, 'Date'], 1125: ['Shelly Verma', False, 'Date'], 3620: ['Suraj Verma', False, 'Date'], 3625: ['DIPANSHU VERMA', False, 'Date'], 1107: ['VIKALP', False, 'Date'], 1053: ['VIVEK YADA', False, 'Date']}


d={"Physics":[123,456],"Maths":[123,456],"CS":[123,456],"English":[123,456]}
subs={"Physics":dp,"Maths":dm,"CS":dc,"English":de}

@app.route("/",methods=["GET","POST"])
def select_sub():
    return render_template("select_sub.html")

@app.route("/<string:sub>",methods=["GET","POST"])
def select_role(sub):
    return render_template("role.html",subject=sub)

@app.route("/<string:sub>/teacher/change_pin",methods=["GET","POST"])
def changepin(sub):
    global dp,dm,dc,de,d,subs
    if request.method=="GET":
        return render_template("teacher.html",subject=sub)
    elif request.method=="POST":
        Sec_key = int(request.form['Secretkey'])
        Pin=int(request.form['Pin'])
        if d[sub][0]==Sec_key:
            d[sub][1]=Pin
            print("Pin Changed by ", sub, "Userid : ", Sec_key,"NewPin = ", Pin)
            return render_template("Key_changed.html")
        else:
            return render_template("Sec_nm.html")
        

@app.route("/<string:sub>/student/attendance",methods=["GET","POST"])
def att(sub):
    global dp,dm,dc,de,d,subs
    if request.method=="GET":
        return render_template("student.html",subject=sub)
    elif request.method=="POST":
        Roll_Number = int(request.form['Roll Number'])
        Pin=int(request.form['Pin'])

        if d[sub][1]==Pin:
            
            a=subs[sub]
            print(Roll_Number)
            if Roll_Number in list(a.keys()):

                a[Roll_Number][1]=True
                a[Roll_Number][2]=datecalc()
                print(datetime.datetime.now(),"attendance registered for", Roll_Number)
            
                return render_template("attendace_registered.html",roll= Roll_Number,subj=sub)
            else:
                print(datetime.datetime.now(),"rendered Not exists")
                return render_template("rn_not_exist.html")
        
        else:
            print(datetime.datetime.now(),"rendered Wrong Pin")
            return render_template("Wrong_Pin.html")
        

@app.route("/<string:sub>/all/",methods=["GET","POST"])
def all(sub):
    global dp,dm,dc,de,d,subs

    data=[]
    x=subs[sub]
    a=list(x.keys())
    a.sort()
    for i in a:
        if x[i][2]==datecalc():
            data.append([i,x[i][0]])
    print("logging data for all table",datetime.datetime.now(), data)
    filename=str(sub)+"att.txt"
    f1=open(filename, "w") 
    f1.write("Roll NO.    Name")
    newl=[]
    for i in data:
        s=str(i[0])+"    "+str(i[1])+"\n"
        newl.append(s)
    f1.writelines(newl)
    f1.close()
    return render_template("all_attendance.html",Data=data,subject=sub)

@app.route('/<string:sub>/download')
def download_file(sub):
	path = str(sub)+"att.txt"
	return send_file(path, as_attachment=True)

if __name__=="__main__":
    app.run()